<html>
	<head>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
	</head>
	<body>
	
		<p class="form-group">Group name:<p>
		<input type="text" id="group" class="form-control"><button onClick="postGroup()" class="btn btn-info">Add group</button>

		<script>
		function postGroup(){
			var groupName=document.getElementById("group");
			var jsonData = '{"name":' + JSON.stringify(groupName.value) + '}';
			var request = new XMLHttpRequest();
			request.open("POST", "http://localhost:8000/groups/", false);
			request.setRequestHeader("Authorization", "Basic " + btoa("e1601136:tGwPETZpRNZj"));
			request.setRequestHeader("X-CSRFToken", readCookie("csrftoken"));
			request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request.send(jsonData);
			var array = JSON.parse(request.responseText);
			console.log(array);
		}
		 
		function readCookie(name) {
			var nameEQ = encodeURIComponent(name) + "=";
			var ca = document.cookie.split(';');
			for (var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) === ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));
			}
		return null;
		}
		</script>
	</body>
</html>